<div class="container">
  <h1 class="display-3 text-center">Editar Usuario</h1>
  <div class="form-group">
    <%= form_with model: @user do |f| %>
      <% @user.errors.full_messages.each do |error| %>
        <div>
          <% error %>
        </div>
      <% end %>
      <div>
        <%= f.label :username %><br>
        <%= f.text_field :username, class: 'form-control', required: true %>
      </div>
      <div>
        <%= f.label :email %><br>
        <%= f.email_field :email, class: 'form-control', required: true  %>
      </div>
      <br>
      <div>
        <%= f.label :role, 'Cambiar rol' %><br>
        <%= f.select :roles, 
            options_for_select(get_roles, @user.roles[0]) %>
        </div>
      </div>
      <% if @user.has_role? :bank_staff %>
      <div>
        <%= f.label :Roles, 'Cambiar sucursal' %><br>
        <%= f.collection_select :branch_id, Branch.all.order(name: :asc), :id, :name %>
      </div>
      <% end %>
      <div>
        <%= f.submit 'Editar', class: 'btn btn-success' %>
      </div>
    <% end %>
  </div>
  <div><%= link_to 'volver', users_path %></div>
</div>
